---
description: 根据验收测试设计实现方案的方法
globs: 
alwaysApply: false
---
根据验收测试中的功能点的验收测试（包含测试代码和docstring），依据“上下文信息”（如：子系统的职责，子系统的已有代码），完成设计：
   
1. 一个功能点对应一个测试类
2. **设计每个用户（或系统）操作的协作图**，针对测试中的每一个用户操作流程，设计为实现这一操作流程的子系统之间的交互协作关系**，表达为简单的sequence图并以 plantuml呈现
3. **子系统的接都扩展和设计**，基于各子系统在协作中承担的职责，列出需要扩展和增加的接口，并直接表达为含 docstring的代码，对每个新增接口要明确指出归属的接口文件和接口类**。


**上下文信息**：
- 子系统划分和职责定义：docs/system_design/subsystems_responsbility.md
- 相关代码实现：src/personal_agent/，其中的一级子目录是各个子系统，如：src/personal_agent/chat;各个子系统的具体接口定义在其api子目录下，如：src/personal_agent/chat/api


接下来第一步，请仔细阅读输入的内容和参考资料，查阅其中（索引的文件中）的具体内容，并确认：
- 描述待设计的功能点是什么，其对应的用户操作是什么
- 在设计过程中要遵循哪些规则，输出怎样的内容
- 为完成设计任务，是否需要提供进一步信息

我会基于你的回复，确认或补充后，在开始完成具体的设计